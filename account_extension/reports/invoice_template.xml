<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="invoice_template" inherit_id="account.report_invoice_document">
        <xpath expr="//div[hasclass('row')]" position="replace">

        </xpath>
        <xpath expr="//div[hasclass('page')]" position="replace">
            <div class="page" >
                <table class="table table-lg table-bordered" style="border:2px solid black;font-size:16px;">

                    <tr style="padding:0px;">
                        <td colspan="3" rowspan="4" width="50%" ><span style="font-weight:bold;">Buyer Details</span>
                            <address class="mb-0" t-field="o.partner_id" t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}'/>
                            <div t-if="o.partner_id.vat">
                                VAT IN: <span t-field="o.partner_id.vat"/>
                            </div>
                        </td>
                        <td class="text-nowrap" style="font-weight:bold;">INV No</td>
                        <td colspan="2"><span t-field="o.name"/></td>
                        <td style="font-weight:bold;" class="text-center">Date</td>
                        <td style=""><span t-field="o.invoice_date"/></td>
                    </tr>
                    <tr>
                        <td class="text-nowrap" style="font-weight:bold;">DO No</td>
                        <td colspan="2"><span t-field="o.do_number"/></td>
                        <td class="text-center" style="font-weight:bold;">Date</td>
                        <td style=""><span t-field="o.do_date"/></td>
                    </tr>
                    <tr>
                        <td class="text-nowrap" style="font-weight:bold;">LPO No</td>
                        <td colspan="2"><span t-field="o.lpo_number"/></td>
                        <td style="font-weight:bold;" class="text-center">Date</td>
                        <td style=""><span t-field="o.lpo_date"/></td>
                    </tr>
                    <tr>
                        <td colspan="5" style="font-weight:bold;">SALESPERSON CODE and TEL NO: <span t-field="o.invoice_user_id.name"/></td>
                    </tr>
                    <tr style="font-weight:bold;">
                        <td class="text-center" width="5%">NO</td>
                        <td colspan="2">DESCRIPTION</td>
                        <td class="text-center">QTY</td>
                        <td class="text-center">RATE</td>
                        <td class="text-center">UNIT</td>
                        <td class="text-center">VAT</td>
                        <td class="text-center" >AMOUNT</td>
                    </tr>

                    <t t-set="sr" t-value="0"/>
                    <tr t-foreach="o.invoice_line_ids" t-as="line">
                        <t t-set="sr" t-value="sr+1"/>
                        <td class="text-center"><span t-esc="sr"/></td>
                        <td colspan="2"><span t-esc="line.name" /></td>
                        <td class="text-center"><span t-esc="line.quantity" t-options="{'widget': 'float', 'precision': 1}"/></td>
                        <td class="text-center"><span t-esc="line.price_unit" t-options="{'widget': 'float', 'precision': 3}"/></td>
                        <td class="text-center"><span t-esc="line.product_uom_id.name"/></td>
                        <td class="text-center" >
                            <span t-esc="', '.join(map(lambda x: (x.description or x.name), line.tax_ids))"/>
                        </td>
                        <td class="text-center"><span t-esc="line.price_subtotal" t-options="{'widget': 'float', 'precision': 3}"/></td>
                    </tr>
                    <tr>
                        <td rowspan="4" colspan="6">
                            <span style="font-weight:bold;">Amount in Words:</span> <span t-esc="o.get_amount_in_word()"/><br/>
                            <strong><p style="font-weight:bold;" t-esc="o.invoice_payment_term_id.note"/></strong>
                           <b> <p style="font-weight:bold;">Notes:</p><span t-esc="o.narration"/><br/></b>
                        </td>
                    </tr>
                    <tr style="border:top:2px solid white;">
                        <td class="text-nowrap" style="font-weight:bold;border:top:2px solid white;">Total Amount</td>
                        <td class="text-center"><span t-esc="o.amount_untaxed" t-options="{'widget': 'float', 'precision': 3}"/></td>
                    </tr>
                    <tr>
                        <td class="text-nowrap" style="font-weight:bold;">VAT Amount</td>
                        <td class="text-center"> <span t-esc="o.amount_tax" t-options="{'widget': 'float', 'precision': 3}"/></td>
                    </tr>
                    <tr>
                        <td class="text-nowrap" style="font-weight:bold;">NET Amount</td>
                        <td class="text-center"><span t-esc="o.amount_total" t-options="{'widget': 'float', 'precision': 3}"/></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="font-weight:bold;">
                            CUSTOMER'S SEAL AND SIGN<br/><br/><br/><br/>&#160;&#160;
                        </td>
                        <td colspan="6" style="font-weight:bold;">
                            DHOFAR ENVIRONMENTAL SAFETY and SERVICES CO LLC<br/><br/><br/><br/>&#160;&#160;
                        </td>
                    </tr>
                </table>
            </div>
        </xpath>

        <xpath expr="//p[@name='payment_communication']" position="replace">

        </xpath>
        <xpath expr="//div[@name='payment_term']" position="replace">

        </xpath>

        <xpath expr="//div[@name='comment']" position="replace">

        </xpath>

        <xpath expr="//p[@name='note']" position="replace">

        </xpath>

        <xpath expr="//p[@name='incoterm']" position="replace">

        </xpath>

        <xpath expr="//div[@id='qrcode']" position="replace">

        </xpath>

    </template>


</odoo>
